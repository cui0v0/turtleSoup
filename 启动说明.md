# 启动方式说明

## 架构说明

本项目使用 **Python Flask 服务器**同时提供：
- 静态文件服务（`public/` 目录）
- WebSocket 实时通信（Socket.IO）

前端是基础的 HTML + Vue 3 + Tailwind CSS，无需构建工具。

## 方式一：使用 Python 启动脚本（推荐）

```bash
python3 start_all.py
```

**或者使用 npm 脚本：**
```bash
npm run start:all
```

**特点：**
- ✅ 跨平台兼容（Windows/macOS/Linux）
- ✅ 自动检测端口占用
- ✅ 优雅的进程管理
- ✅ Ctrl+C 一键停止服务
- ✅ 清晰的状态显示

## 方式二：使用 Bash 脚本（仅 macOS/Linux）

```bash
./start_all.sh
```

**或者使用 npm 脚本：**
```bash
npm run start:all:sh
```

**特点：**
- ✅ Shell 原生实现
- ✅ 彩色终端输出
- ✅ 自动端口清理

## 方式三：直接启动 Python 服务器

```bash
python3 server.py
```

**特点：**
- 最简单直接
- 单进程管理
- 服务器同时提供静态文件和 WebSocket

## 服务地址

- **游戏入口**: http://localhost:3000
  - 静态文件由 Python 服务器提供
  - WebSocket 连接也在同一端口

## 停止服务

### 使用启动脚本启动的：
## 停止服务

### 使用启动脚本启动的：
按 `Ctrl+C` 即可停止服务

### 手动启动的：
```bash
# 停止服务器
lsof -ti:3000 | xargs kill
```
### 端口被占用
## 故障排查

### 端口被占用
启动脚本会自动检测并提示，可以选择：
1. 停止占用端口的程序
2. 让脚本自动清理端口

### 检查服务器状态
```bash
# 查看是否在运行
lsof -ti:3000

# 查看进程详情
ps aux | grep "server.py"
```

### 查看服务器日志
Python 服务器的日志会直接显示在终端中
## 开发建议

开发时推荐使用 **方式一（Python 启动脚本）** 或 **方式三（直接启动）**：

```bash
# 方式一：使用脚本
npm run start:all

# 方式三：直接启动（更简单）
python3 server.py
```

优点：
- 单个进程管理
- Python 服务器同时处理静态文件和 WebSocket
- 无需构建步骤，开发更快捷
- 修改前端代码后刷新浏览器即可